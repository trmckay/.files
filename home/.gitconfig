[user]
    email = mail@trmckay.com
    name = Trevor McKay

[color]
    ui = true

[core]
    pager = delta

[pull]
    rebase = false

[fetch]
    recurseSubmodules = no

[alias]
    a = add
    b = branch
    bd = branch -D
    local-main-branch = !git branch | cut -c 3- | grep -E '^master$|^main$'
    remote-branch = rev-parse --abbrev-ref --symbolic-full-name @{upstream}
    main-branch = !git rev-parse --abbrev-ref --symbolic-full-name $(git local-main-branch)@{upstream}
    merge-base-to-main-branch = !git merge-base HEAD $(git main-branch)
    diff-remote = !git diff `git remote-branch`
    dr = diff-remote
    log-to-remote = !git log HEAD..`git remote-branch`
    ltr = log-to-remote
    log-from-remote = !git log `git remote-branch`..HEAD
    lfr = log-from-remote
    c = commit
    ca = commit --amend
    co = checkout
    cp = cherry-pick
    cpa = cherry-pick --abort
    cpc = cherry-pick --continue
    ctx = !git slog | head
    d = diff
    dm = !git diff $(git merge-base HEAD $(git merge-base-to-main-branch))
    f = fetch
    llog = log --pretty=format:'%C(red)%h%Creset -%C(yellow)%d%Creset %s %C(green)(%cr) %C(yellow)<%an>%Creset' --color=always
    slog = log --first-parent --pretty=format:'%C(red)%h%Creset -%C(yellow)%d%Creset %s %C(green)(%cr) %C(yellow)<%an>%Creset' --color=always
    alog = log --first-parent --pretty=format:'%C(red)%h%Creset -%C(yellow)%d%Creset %s %C(green)(%cr)' --color=always --author='Trevor McKay'
    m = merge
    ma = merge --abort
    mc = merge --continue
    p = push
    pf = push --force-with-lease
    rb = rebase
    rba = rebase --abort
    rbc = rebase --continue
    rbi = rebase -i
    root = rev-parse --show-toplevel
    publish = !git push -u origin `git symbolic-ref HEAD | sed -e "s#^refs/heads/##"`
    reset-last-head = reset HEAD@{1}
    rh = reset --hard
    rs = restore
    rho = !git reset --hard origin/`git rev-parse --abbrev-ref HEAD`
    st = status
    ss = stash
    sa = stash apply
    sp = stash pop

[filter "lfs"]
    clean = git-lfs clean -- %f
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process
    required = true

[rerere]
    enabled = true

[diff]
    ignoreSubmodules = all

[init]
    defaultBranch = main

[merge]
    tool = fugitive

[mergetool "fugitive"]
    cmd = nvim -f -c \"Gvdiffsplit!\" \"$MERGED\"
