#!/usr/bin/env bash

if [[ $NVIM_NOWAIT -eq 1 ]]; then
	WAIT_FLAG=""
else
	WAIT_FLAG="--remote-wait"
fi

if [[ ! -z "$NVIM" ]] && command -v nvr >/dev/null; then
	nvr $WAIT_FLAG -c "setlocal bufhidden=delete" "$@"
elif command -v nvim >/dev/null; then
	nvim "$@"
else
	vim "$@"
fi
